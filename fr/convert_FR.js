/**
 * Created by lenovo on 2017/7/10.
 */

var m_FRList = [3.5350397, 3.1816068, 0.7461536, 16.985928, 50.651794, 1.0793892, 2.003521, 4.62065, 2.930124, 1.5981306, 2.8091605, 10.454092, 3.4084928, 12.680096, 3.3471582, 2.6875956, 1.9384613, 0.07283756, 3.345578, 0.40435436, 1.5405406, 6.045507, 13.603853, 2.6119757, 2.1678405, 289.45557, 0.95949084, 0.4901365, 175.83437, 1.1790123, 0.36656433, 4.2587414, 0.38724756, 1.3877778, 1.0531915, 5.265023, 1.4219476, 1.6600466, 2.3528724, 0.44822282, 0.17465241, 4.398723, 20.028402, 4.0833335, 48.34541, 6.6273293, 6.7950306, 45.843502, 2.095827, 0.27469116, 2.73753, 4.426563, 22.095451, 11.649612, 1.306028, 17.121933, 13.039677, 1.5378549, 3.706538, 15.6992, 3.9349468, 3.5475912, 6.608602, 8.365443, 4.84229, 5.611801, 0.09699771, 17.185108, 1.7962962, 0.14660506, 26.247414, 15.259823, 0.24116738, 1.7260484, 3.1020641, 1.848297, 0.056206036, 1.7563692, 43.769234, 124.52602, 3.043546, 52.95334, 0.11230762, 1.6094943, 160.07585, 12.469136, 5.0861516, 4.342625, 13.042278, 159.37798, 139.21844, 3.2760668, 0.6987382, 3.052795, 20.010529, 35.437035, 3.5393517, 2.2422059, 30.031895, 2.9290123, 7.413476, 2.4444435, 6.626521, 1.1843317];

var m_LatList = [19.065685, 43.80017, 24.900324, 23.326939, 24.900324, 27.700335, 49.500084, 46.000137, 25.000324, 26.800331, 30.000343, 24.123411, 41.40021, 24.742373, 23.90032, 27.500334, 29.20034, 31.000347, 16.100288, 31.100348, 33.500328, 22.70818, 24.976862, 36.200287, 37.100273, 20.30221, 51.00006, 26.100328, 26.420559, 26.50033, 18.4003, 44.60016, 28.000336, 17.600294, 28.100336, 25.200325, 28.70034, 35.700294, 42.0002, 21.700312, 29.600342, 18.200298, 44.100166, 30.400345, 27.382769, 22.200314, 21.300308, 24.89975, 25.000324, 24.400322, 33.700325, 17.600296, 26.991142, 27.000332, 31.100348, 23.300318, 45.971813, 16.600292, 27.900335, 16.800293, 26.60033, 37.500267, 24.900324, 29.30034, 28.680004, 17.000294, 53.70002, 49.400085, 26.50033, 25.000324, 24.900324, 24.338654, 20.300306, 25.100323, 53.900017, 17.700296, 41.400208, 20.800308, 18.952341, 22.200314, 23.70032, 38.32853, 25.800327, 18.4003, 23.638914, 23.40032, 28.684418, 46.200134, 26.55461, 51.00006, 51.00006, 50.800064, 17.900297, 29.30034, 18.900303, 25.594654, 51.00006, 35.500298, 24.876377, 18.300299, 27.200333, 23.200317, 18.8003, 24.800323];

var m_LonList = [83.99979, 113.79933, 121.69921, 110.89938, 114.24317, 114.299324, 104.69947, 113.79933, 121.09921, 94.69962, 113.699326, 119.09926, 110.80154, 121.69921, 110.59938, 113.599335, 121.29922, 104.69947, 108.11262, 122.4992, 117.99927, 120.69922, 121.70194, 83.79979, 111.09937, 104.22524, 119.19925, 125.29916, 82.438194, 117.59927, 119.59924, 116.99928, 120.299225, 120.69922, 107.89942, 118.899254, 118.599266, 120.89923, 116.899284, 121.69921, 123.09919, 116.99928, 79.99985, 94.99962, 119.57291, 109.89939, 111.599365, 121.70891, 121.399216, 111.79936, 100.89953, 114.99931, 119.36699, 119.34982, 122.5992, 110.89937, 114.59931, 111.09937, 110.999374, 86.19975, 116.69929, 104.19948, 121.76464, 124.699165, 116.1879, 120.49923, 121.399216, 104.71288, 117.59927, 121.399216, 121.69921, 120.41408, 118.199265, 121.62451, 122.39919, 121.499214, 110.79938, 83.399796, 115.30374, 92.69966, 116.79929, 125.872185, 122.099205, 115.9993, 93.31948, 108.399414, 124.58325, 113.99933, 117.59928, 122.2992, 122.099205, 122.099205, 96.599594, 121.19922, 112.99935, 115.908005, 119.19926, 83.0998, 121.399185, 120.599236, 105.99945, 86.099754, 112.49936, 121.69921];


var m_FRDataNum = m_FRList.length;
console.log(m_FRDataNum);
var m_FRDataMax = 0;
var m_FRDataMin = 0;

var m_begin = '<?xml version="1.0" encoding="UTF-8"?>' +
    '<kml xmlns="http://earth.google.com/kml/2.0" xmlns:atom="http://www.w3.org/2005/Atom">  ' +
    '  <Document>  ' +
    '  <name>2012 Earthquakes, Magnitude 5</name>' +
    '<atom:author>' +
    '<atom:name>U.S. Geological Survey</atom:name>' +
    '</atom:author>' +
    '<atom:link href="http://earthquake.usgs.gov"/>   ' +
    ' <Folder>    ' +
    '<name>Magnitude 5</name>';
for (var i = 0; i < m_FRDataNum; i++) {
    var m_DateStr = new Date().toISOString();
    var m_DataJson = '  <Placemark id="' + m_DateStr + i + '">' +
        '<name> Flash ' + m_FRList[i] + '</name>' +
        '<magnitude>' + m_FRList[i] + '</magnitude>' +
        '<Point>' +
        '<coordinates>' + m_LonList[i] + ',' + m_LatList[i] + '</coordinates>' +
        '</Point>' +
        '</Placemark>';
    if (m_FRList[i] < m_FRDataMin) {
        m_FRDataMin = m_FRList[i];
    }

    if (m_FRList[i] > m_FRDataMax) {
        m_FRDataMax = m_FRList[i];
    }
    m_begin = m_begin + m_DataJson;
}
var m_end = ' </Folder>' +
    '</Document>' +
    '</kml>'
m_begin = m_begin + m_end;
console.log("m_FRDataMin:" + m_FRDataMin);
console.log("m_FRDataMax:" + m_FRDataMax);

var fs = require('fs');


var wOption = {
    flags: 'a',
    encoding: null,
    mode: 0666
}


var fileWriteStream = fs.createWriteStream('./data/201707070852.kml', wOption);


fileWriteStream.write(m_begin);


fileWriteStream.end();
